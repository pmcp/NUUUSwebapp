"use strict";angular.module("nuuusApp",["firebase","ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","hmTouchEvents"]).config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!1).hashPrefix("!"),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/project/over",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/:article",{templateUrl:"views/article.html",controller:"ArticleCtrl"}).when("/project/faq",{templateUrl:"views/faq.html",controller:"FaqCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("nuuusApp").controller("MainCtrl",["$scope","$firebase","$location","$rootScope",function(a,b,c,d){var e=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;console.log(e),a.loading=!0;var f=new Firebase("https://sambal.firebaseio.com/webapp/articles"),g=b(f),h=g.$asObject();h.$loaded().then(function(){a.loading=!1,d.$emit("feedLoaded")}),a.feed=h,a.goToArticle=function(a){c.path("/"+a)}}]),angular.module("nuuusApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("nuuusApp").controller("HomeCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("nuuusApp").controller("ArticleCtrl",["$scope","$routeParams","$firebase",function(a,b,c){var d=new Firebase("https://sambal.firebaseio.com/nuuus/pages/"+b.article),e=c(d),f=e.$asObject();f.$loaded().then(function(){console.log(f)}),a.article=f}]),angular.module("nuuusApp").directive("parsehtml",["$compile",function(a){return{restrict:"A",replace:!0,link:function(b,c,d){b.$watch(d.parsehtml,function(d){c.html(d),a(c.contents())(b)})}}}]),angular.module("nuuusApp").directive("nuuusstyle",["$firebase",function(a){return{template:'<li style="{{scope.liststyle}}" ng-click="goToArticle(item.content.pageId)"><p>{{item.title}}</p><p ng-bind-html="item.feed.header.text"></p><p ng-bind-html="item.feed.footer.text"></p><img ng-src="{{item.feed.image.url}}" class="img-responsive"></li>',restrict:"A",link:function(b,c,d){console.log(d.nuuusstyle);var e=new Firebase("https://sambal.firebaseio.com/nuuus/styles/"+d.nuuusstyle),f=a(e),g=f.$asObject();g.$loaded().then(function(){console.log("record has id",g.$id),b.liststyle="background-color:#"+g.backgroundColor+";",console.log(b.liststyle)}),b.record=g}}}]),angular.module("nuuusApp").directive("stylebg",["$firebase",function(a){return{restrict:"A",link:function(b,c,d){var e=new Firebase("https://sambal.firebaseio.com/nuuus/styles/"+d.stylebg),f=a(e),g=f.$asObject();g.$loaded().then(function(){c.css("background-color","#"+g.backgroundColor)})}}}]),angular.module("nuuusApp").directive("color",["$rootScope","$compile",function(a,b){return{template:"<div></div>",restrict:"E",link:function(c,d,e){a.$on("feedLoaded",function(){console.log("test")}),c.$watch(e.parsehtml,function(a){d.html(a),b(d.contents())(c)}),d.text("this is the color directive")}}}]),angular.module("nuuusApp").directive("videofeed",["$compile",function(a){return{template:"<div>{{template}}</div>",replace:!0,restrict:"A",link:function(b,c){var d=b.item.feed.image.videoUrl,e=b.item.feed.image.url;if(console.log(d),d){var f='<video width="100%" height="240" controls><source src="'+d+'" type="video/mp4">Your browser does not support the video tag.</video>',g=a(f),h=g(b);c.append(h)}else{var i='<div><img src="'+e+'" class="img-responsive" ng-click="goToArticle(item.content.pageId)"></div>',j=a(i),k=j(b);c.append(k)}}}}]),angular.module("nuuusApp").directive("back",function(){return{restrict:"E",template:'<div class="backbutton"></div>',scope:{},link:function(a,b){b.on("click",function(){history.back(),a.$apply()})}}}),angular.module("nuuusApp").controller("FaqCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);